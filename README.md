# golos-apps
 Apps for Golos blockchain

## Список приложений
1. golos_stake_bot - Telegram бот.
2. golos-donators - топ донатящих, постов конкретного донатера, а также рейтинги получающих донаты постов и комментариев.
3. golos-referrers - топ рефереров (пригласителей).
4. golos-votes - система голосования.
5. activity_stats - сервис статистики активности за сутки (очищается информация в полночь каждого дня). В базе данных логин, количество постов и комментов (одно значение), число флагов, апов, средний процент флага, средний процент апа.
6. witness_rewards - подсчёт наград делегатов за предыдущий месяц, текущий месяц, предыдущий день и текущий день.

Всё в js_modules.

## А также там-же
- ajax.js - файл с golos-api приложений (можно вызвать по адресу с опркеделёнными GET параметрами и получить данные).
- helpers.js - различные функции, например, перевод даты в красивую строку и т.д.
- methods.js - методы отправки данных к БЧ. Некоторые функции просто их вызывают с возвратом данных, а некоторые выполняют некую фобработку.

## В golos.js
Производится подключение к базе данных, парсинг блоков и вызов методов приложений в зависимости от операции. Также ниже вызываются методы, которые необходимо запускать сразу, либо по cron.

## В config.json
Все настройки: Нода, а также конфигурация приложений.

## В databases
@db.js с конфигом базы данных и подключением.
Файлы с методами работы с базой данных Mongo DB. Зависят от приложений.
Если в приложении используется больше одного файла коллекции (1 файл = одна коллекция), они размещаются в поддериктории databases.

## Установка
1. Скопировать на сервер
2. Переход в папку проекта.
3. npm install
4. Изменение параметров в config.json;
5. Запуск:
node golos.js или pm2 start golos.js